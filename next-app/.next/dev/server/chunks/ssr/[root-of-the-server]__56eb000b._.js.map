{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/projects/carbonsense/next-app/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { io } from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:4000\", {\n  transports: [\"websocket\"],\n});\ninterface Message {\n    message : string ,\n    room : string\n  \n}\n\nexport default function Home() {\n  const [message, setMessage] = useState(\"\");\n  const [received, setReceived] = useState<Message[]>([]);\n\n  useEffect(() => {\n    // Example: community name from AI API\n    const communityName = \"community_123\";\n\n    // Tell server to join this room\n    socket.emit(\"joinRoom\", communityName);\n\n    socket.on(\"receiveMessage\", (data) => {\n      setReceived((prev) => [...prev, data]);\n    });\n\n    socket.on(\"userJoined\", (msg) => {\n      console.log(msg);\n    });\n\n    return () => {\n      socket.off(\"receiveMessage\");\n      socket.off(\"userJoined\");\n    };\n  }, []);\n\n  const sendMessage = () => {\n    socket.emit(\"sendMessage\", {\n      room: \"community_123\",\n      message,\n    });\n    setMessage(\"\");\n  };\n\n  return (\n    <div>\n      <h1>Community Chat</h1>\n\n      <input\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        placeholder=\"type message\"\n      />\n      <button onClick={sendMessage}>Send</button>\n\n      {received.map((m:{message : string , room:string}, i) => (\n        <p key={i}>{m.message}</p>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,SAAS,IAAA,8LAAE,EAAC,yBAAyB;IACzC,YAAY;QAAC;KAAY;AAC3B;AAOe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAEtD,IAAA,kNAAS,EAAC;QACR,sCAAsC;QACtC,MAAM,gBAAgB;QAEtB,gCAAgC;QAChC,OAAO,IAAI,CAAC,YAAY;QAExB,OAAO,EAAE,CAAC,kBAAkB,CAAC;YAC3B,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAK;QACvC;QAEA,OAAO,EAAE,CAAC,cAAc,CAAC;YACvB,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO;YACL,OAAO,GAAG,CAAC;YACX,OAAO,GAAG,CAAC;QACb;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,OAAO,IAAI,CAAC,eAAe;YACzB,MAAM;YACN;QACF;QACA,WAAW;IACb;IAEA,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BAEJ,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,aAAY;;;;;;0BAEd,8OAAC;gBAAO,SAAS;0BAAa;;;;;;YAE7B,SAAS,GAAG,CAAC,CAAC,GAAoC,kBACjD,8OAAC;8BAAW,EAAE,OAAO;mBAAb;;;;;;;;;;;AAIhB","debugId":null}}]
}